$(document).ready(function(){if($.browser={},"opera"==r()||"safari"==r()){var e=$(".grayscale-img img"),a=e.length,t=0;e.one("load",function(){++t==a&&(grayscale($(".grayscale-img img")),$(".grayscale-img img").hover(function(){grayscale.reset($(this))},function(){grayscale($(this))}))}).each(function(){this.complete&&$(this).trigger("load")})}if(i()>=10){$(".grayscale-img img").each(function(){var e=$(this);e.css({position:"absolute"}).wrap("<div class='img_wrapper' style='display: inline-block'>").clone().addClass("img_grayscale").css({position:"absolute","z-index":"5",opacity:"0"}).insertBefore(e).queue(function(){var e=$(this);e.parent().css({width:this.width,height:this.height}),e.dequeue()}),this.src=function(e){var a=document.createElement("canvas"),t=a.getContext("2d"),r=new Image;r.src=e,a.width=r.width,a.height=r.height,t.drawImage(r,0,0);for(var i=t.getImageData(0,0,a.width,a.height),s=0;s<i.height;s++)for(var o=0;o<i.width;o++){var n=4*s*i.width+4*o,c=(i.data[n]+i.data[n+1]+i.data[n+2])/3;i.data[n]=c,i.data[n+1]=c,i.data[n+2]=c}return t.putImageData(i,0,0,0,0,i.width,i.height),a.toDataURL()}(this.src)}),$(".grayscale-img img").hover(function(){$(this).parent().find("img:first").stop().animate({opacity:1},200)},function(){$(".img_grayscale").stop().animate({opacity:0},200)})}function r(){var e=navigator.userAgent.toLowerCase();return $.browser.chrome=/chrome/.test(e),$.browser.safari=/webkit/.test(e),$.browser.opera=/opera/.test(e),$.browser.msie=/msie/.test(e)&&!/opera/.test(e),$.browser.mozilla=/mozilla/.test(e)&&!/(compatible|webkit)/.test(e)||/firefox/.test(e),$.browser.chrome?"chrome":$.browser.mozilla?"mozilla":$.browser.opera?"opera":$.browser.safari?"safari":$.browser.msie?"ie":void 0}function i(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var a=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(a)&&(e=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){a=navigator.userAgent;null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(a)&&(e=parseFloat(RegExp.$1))}return e}"mozilla"==r()?$("body").addClass("mozilla"):"ie"==r()?$("body").addClass("ie"):"opera"==r()?$("body").addClass("opera"):"safari"==r()?$("body").addClass("safari"):"chrome"==r()&&$("body").addClass("chrome"),i()>=10&&$("body").addClass("ie11")});